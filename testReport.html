<template name="mochaTestReport">
  <div class="mochaTestReport">
    <div id="mocha"></div>
  </div>
</template>

<template name="serverTestReport">

  {{#with testReport}}
    <h2>Server Test Report<h1>
    <h3>{{failures}} failing, {{passes}} passing, {{pending}} pending</h3>
  {{/with}}
  <hr />

  <div class="mochaTestReport">
    <ul id="mocha-report">
      {{#each rootSuites}}
        {{> mochaTestObject}}
      {{/each}}
    </ul>
  </div>
</template>

<template name="mochaTestObject">
  {{#if suite }}
    <li class="suite">
      <h1>{{title}}</h1>
      {{#each children}}
        {{> mochaTestObject}}
      {{/each}}
    </li>
  {{else}}
    <li class="test {{stateClass}} {{speed}}">
      <h2>{{title}} <span class="duration">{{duration}}ms</span></h2>
      {{#if err}}
      <pre><code>{{err.stack}}</code></pre>
      {{/if}}
    </li>
  {{/if}}
</template>
